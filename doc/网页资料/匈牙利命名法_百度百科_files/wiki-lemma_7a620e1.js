var $=require("wiki-common:widget/lib/jquery/jquery.js"),BaikeShare=function(){var defaultConfig={common:{bdText:"自定义分享内容",bdDesc:"自定义分享摘要",bdUrl:"自定义分享url地址",bdPic:"自定义分享图片"},share:[{bdSize:16}]};window._bd_share_config=defaultConfig,this.setCommon=function(e){window._bd_share_config.common=e?e:defaultConfig.common},this.regist=function(e){window._bd_share_config.share.push(e)},this.load=function(){with(document)0[(getElementsByTagName("head")[0]||body).appendChild(createElement("script")).src="http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion="+~(-new Date/36e5)]}};window.BKShare||(window.BKShare=new BaikeShare,$(document).bind("ready",function(){window.BKShare.load()}));
;var $=require("wiki-common:widget/lib/jquery/jquery.js"),Linker=function(){var e={isHeader:!0},n={isTailer:!0};this.appendNode=function(t){e.next||(e.next=t,t.prev=e),n.prev?(n.prev.next=t,t.prev=n.prev,n.prev=t,t.next=n):(n.prev=t,t.next=n)},this.deleteNode=function(e){e.prev.next=e.next,e.next.prev=e.prev},this.hasNode=function(){return!!e.next&&!e.next.isTailer},this.iterator=function(){var n=e;return{next:function(){return ret=n.next,ret&&!ret.isTailer&&ret.next?(n=n.next,ret):null}}}},JavaScriptLazyLoad=function(){var e=new Linker,n=null,t=function(){for(var n=e.iterator(),t=n.next();t;)i(t),t=n.next()},i=function(e){if(e.dom&&e.loadFunc){var n=e.dom.offset().top,t=$(window).scrollTop()+$(window).height(),i="undefined"!=typeof e.distance?e.distance:200;!e.dom.is(":hidden")&&i>=n-t&&(r(e),e.loadFunc())}},r=function(n){e.deleteNode(n),e.hasNode()||$(window).unbind("scroll",d)};this.regist=function(n){return e.appendNode(n),n},this.unregist=function(){};var o=function(){$(window).bind("scroll click",d),$(document).ready(function(){d()})},d=function(){n&&clearTimeout(n),n=setTimeout(t,200)};o()};window.ScriptLazyLoad||(window.ScriptLazyLoad=new JavaScriptLazyLoad);
;define("wiki-lemma:widget/tools/rightCheck/rightCheck.js",function(i,e,t){var a=i("wiki-common:widget/lib/jquery/jquery.js"),n=i("wiki-common:widget/util/safeCall.js"),d=(i("wiki-common:widget/component/userLogin/userLogin.js"),{editView:{status:null,data:null}});t.exports={editView:function(i,e){var i=i||0,e=e||function(){};if(i)if(d.editView.status)if("PENDING"==d.editView.status)var t=setInterval(function(){"READY"==d.editView.status&&(clearInterval(t),n(e,d.editView.data))},100);else n(e,d.editView.data);else{d.editView.status="PENDING";var t=setInterval(function(){window.baikeInfo&&window.baikeInfo.userLogin&&(clearInterval(t),window.baikeInfo.userLogin.isLogin?a.getJSON("/wikisubmit/api/viewcheck?lemmaId="+i,function(i){d.editView.data=i,d.editView.status="READY",n(e,d.editView.data)}):(d.editView.data={errno:10001},d.editView.status="READY",n(e,d.editView.data)))},100)}},preeditCheck:function(i,e,t,d,s){var i=i||0,e=e||"",t=t||"",d=d||0,s=s||function(){};i&&e&&d&&a.getJSON("/wikisubmit/api/preeditcheck?lemmaId="+i+"&lemmaTitle="+e+"&lemmaDesc="+t+"&versionId="+d,function(i){n(s,i)})}}});
;define("wiki-lemma:widget/tools/service/service.js",function(e,t,l){var o=e("wiki-common:widget/lib/jquery/jquery.js"),i={};i.Vote={voteCount:0,voted:!1,itemList:[],vote:function(e){i.Vote.voted||o.ajax({url:"http://like.baidu.com/set",dataType:"jsonp",jsonp:"cb",data:{type:0,like:1,pid:3,key:e.lemmaId,r:Math.random()},success:function(e){i.Vote.voted=!0;for(var t=0;t<i.Vote.itemList.length;t++){var l=i.Vote.itemList[t];!!l.handleVotted&&l.handleVotted(e)}}})},getVote:function(e){if(0==i.Vote.voteCount)o.ajax({url:"http://like.baidu.com/get?key="+e.lemmaId+"&type=0&like=1&pid=3&random="+Math.random(),dataType:"jsonp",jsonp:"cb",success:function(e){i.Vote.voteCount=e.count;for(var t=0;t<i.Vote.itemList.length;t++){var l=i.Vote.itemList[t];!!l.handleGotten&&l.handleGotten(e)}}});else for(var t=0;t<i.Vote.itemList.length;t++){var l=i.Vote.itemList[t];!!l.handleGotten&&l.handleGotten({count:data.count})}},regist:function(e){i.Vote.itemList.push(e)}},i.Collect={collected:null,collectTK:"",isGotRequesting:!1,itemList:[],getCollect:function(e){if(null==i.Collect.collected)1!=i.Collect.isGotRequesting&&(i.Collect.isGotRequesting=!0,o.getJSON("/api/usercenter/checkfavorites?lemmaId="+e.newLemmaId,function(e){if(i.Collect.isGotRequesting=!1,0==e.errno){i.Collect.collected=1==e.isFavorite?!0:!1,i.Collect.collectTK=e.tk;for(var t=0;t<i.Collect.itemList.length;t++){var l=i.Collect.itemList[t];!!l.handleGotten&&l.handleGotten(e)}}}));else for(var t=0;t<i.Collect.itemList.length;t++){var l=i.Collect.itemList[t];!!l.handleGotten&&l.handleGotten({has:i.Collect.collected})}},collect:function(e){i.Collect.collected||o.getJSON("/api/usercenter/addfavorites?lemmaId="+e.newLemmaId+"&tk="+i.Collect.collectTK+"&r="+Math.random(),function(e){if(0==e.errno){i.Collect.collected=!0;for(var t=0;t<i.Collect.itemList.length;t++){var l=i.Collect.itemList[t];!!l.handleCollected&&l.handleCollected(e)}}})},cancel:function(e){i.Collect.collected&&o.getJSON("/api/usercenter/delfavorites?lemmaId="+e.newLemmaId+"&tk="+i.Collect.collectTK+"&r="+Math.random(),function(e){if(0==e.errno){i.Collect.collected=!1;for(var t=0;t<i.Collect.itemList.length;t++){var l=i.Collect.itemList[t];!!l.handleCanceled&&l.handleCanceled(e)}}})},regist:function(e){i.Collect.itemList.push(e)}},l.exports=i});
;define("wiki-lemma:widget/tools/tool/tool.js",function(e,o,t){var n=e("wiki-common:widget/lib/jquery/jquery.js"),a={};a.callByBrowser=function(e,o){var t,a=this.url,i=document.createElement("SCRIPT"),l=0,r=o||{},d=(r.charset,e||function(){}),u=r.timeOut||0;i.onload=i.onreadystatechange=function(){if(!l){var e=i.readyState;if("undefined"==typeof e||"loaded"==e||"complete"==e){l=1;try{d(),clearTimeout(t)}finally{i.onload=i.onreadystatechange=null,n(i).remove()}}}},u&&(t=setTimeout(function(){i.onload=i.onreadystatechange=null,n(i).remove(),r.onfailure&&r.onfailure()},u)),n(i).attr("src",a).appendTo(document.body)},t.exports=a});
;define("wiki-lemma:widget/tools/lazyLoad/lazyLoad.js",function(e,t,A){var r=e("wiki-common:widget/lib/jquery/jquery.js"),a=function(e){e=e||{},e.preloadHeight=e.preloadHeight||0,e.className=e.className||"lazy-img",e.placeHolder=e.placeHolder||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF9fX1AAAA0VQI3QAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==",e.srcAttribute=e.srcAttribute||"data-src";var t=function(){return r(window).scrollTop()+r(window).height()+e.preloadHeight},A=function(){var a=r("img."+e.className);a.attr("src",e.placeHolder);for(var o=t(),i=0;i<a.length;i++)target=a.eq(i),imgSrc=target.attr(e.srcAttribute),target.offset().top<o&&(target.attr("src",imgSrc).removeClass(e.className).removeAttr(e.srcAttribute),!!e.onLazyLoad&&e.onLazyLoad(target));r("img."+e.className).length<=0&&r(window).off("scroll resize",A)},a=function(){r(document).ready(function(){A(),r(window).on("scroll resize",A)})};a()};A.exports=a});
;define("wiki-lemma:widget/tools/marquee/marquee.js",function(t,i,e){function o(t){this.viewport=c(t.viewport),this.btnBox=c(t.btnBox),this.picList=c("ul.maqueeCanvas",this.viewport),this.autoScroll=t.autoScroll||!1,this.stopScroll=!1,this.cloneNode="boolean"==typeof t.cloneNode?t.cloneNode:!1,this.scrollDirection=t.scrollDirection||"HOR";var i=c(">li",this.picList);this.picWidth=i.outerWidth(!0),this.picHeight=i.outerHeight(!0),this.picCount=i.length,this.curFrame=0,this.beforeSwitch=t.beforeSwitch,this.afterSwitch=t.afterSwitch,this.duration=t.duration,this.delay=t.delay;var e=this;this.cloneNode&&c("li",this.picList).clone().appendTo(this.picList),this.btnBox&&this.btnBox.on("click","[frameIndex]",function(){e.stop.call(e),e.switchTo(c(this).attr("frameIndex"))}).on("mouseenter",function(){e.stop.call(e)}).on("mouseleave",function(){e.autoScroll&&e.start.call(e)}),this.viewport.on("mouseenter",function(){e.stop.call(e)}).on("mouseleave",function(){e.autoScroll&&e.start.call(e)})}var c=t("wiki-common:widget/lib/jquery/jquery.js");o.prototype={constructor:o,start:function(){var t=this;t.stopScroll=!1,t.scrollTimer||(t.scrollTimer=setTimeout(function(){t.scrollTimer=null,t.picList.animate("HOR"==t.scrollDirection?{left:"-="+t.picWidth}:{top:"-="+t.picHeight},{duration:t.duration||400,queue:!1,start:function(){t.curFrame=++t.curFrame%t.picCount,c("[frameIndex].cur",t.btnBox).removeClass("cur"),c("[frameIndex]:nth-child("+(t.curFrame+1)+")",t.btnBox).addClass("cur"),t.beforeSwitch&&t.beforeSwitch.call(t,t.curFrame)},complete:function(){t.picList.css("HOR"==t.scrollDirection?{left:-t.curFrame*t.picWidth}:{top:-t.curFrame*t.picHeight}),t.autoScroll&&!t.stopScroll&&t.start.call(t),t.afterSwitch&&t.afterSwitch.call(t,t.curFrame)}})},t.delay||3e3))},stop:function(){clearTimeout(this.scrollTimer),this.scrollTimer=null,this.stopScroll=!0},switchTo:function(t){var i=this;t=Math.max(Math.min(t,i.picCount-1),0),i.picList.animate("HOR"==i.scrollDirection?{left:-t*i.picWidth}:{top:-t*i.picHeight},{duration:i.duration||400,queue:!1,start:function(){i.curFrame=t%i.picCount,c("[frameIndex].cur",i.btnBox).removeClass("cur"),c("[frameIndex]:nth-child("+(i.curFrame+1)+")",i.btnBox).addClass("cur"),i.beforeSwitch&&i.beforeSwitch.call(i,i.curFrame)},complete:function(){i.picList.css("HOR"==i.scrollDirection?{left:-t*i.picWidth}:{top:-t*i.picHeight}),i.afterSwitch&&i.afterSwitch.call(i,i.curFrame)}})}},e.exports=o});
;define("wiki-lemma:widget/tools/praise/praise.js",function(o,n,e){var i=o("wiki-common:widget/lib/jquery/jquery.js"),t=o("wiki-common:widget/component/userLogin/userLogin.js");e.exports={init:function(o){function n(){return e?(alert("亲，你已经赞过啦"),!1):void i.getJSON("/platform/api/vote",{id:o.lemmaId},function(o){0===o.errno?(s.html(o.score),c.html("已赞").css("color","#999"),r.css("cursor","default"),e=!0):console&&console.log(o.errno)})}var e=!1,r=i("#figurePraise"),c=r.find(".txt"),s=r.find(".count");i.getJSON("/platform/api/getvote",{id:o.lemmaId,category:o.category},function(o){0===o.errno?s.html(o.score):console&&console.log(o.errno)}),r.on("click",function(){t.checkIfLogin({onLogon:n,onUnlogin:function(){t.showLoginPop()}})})}}});
;define("wiki-lemma:widget/tools/searchHeader/toolButtons/toolButtons.js",function(o,t,e){var n=o("wiki-common:widget/lib/jquery/jquery.js"),l=o("wiki-common:widget/component/userLogin/userLogin.js"),c=o("wiki-lemma:widget/tools/service/service.js"),i=n(".toolButtons-collect"),s=(n(".toolButtons-edit"),n(".toolButtons-vote")),a=function(){i.addClass("collected")},d=function(){i.removeClass("collected")},u=function(o){s.addClass("voted").text(o),s.off("click")},r=function(o){i.on("click",function(){var t=n(this);l.checkIfLogin({onLogin:function(){t.hasClass("collected")?c.Collect.cancel(o):c.Collect.collect(o)},onUnlogin:function(){l.showLoginPop()}})}),c.Collect.regist({handleCollected:a,handleCanceled:d,handleGotten:function(o){!!o.isFavorite&&a()}}),s.on("click",function(){var t=n(this);!t.hasClass("voted")&&c.Vote.vote(o)}),c.Vote.regist({handleVotted:function(o){u(o.count)}}),c.Vote.getVote(o),l.regist({handleLogon:function(){c.Collect.getCollect(o)}})};e.exports=r});
;define("wiki-lemma:widget/tools/searchHeader/toolButtons/userInfo.js",function(n,o,e){var i=n("wiki-common:widget/lib/jquery/jquery.js"),t=n("wiki-common:widget/component/userLogin/userLogin.js"),r=function(){var n=i(".lemmaWgt-searchHeader .user-link");t.checkIfLogin({onLogin:function(o){n.attr("href","/usercenter").text(o.name),window.baikeInfo=window.baikeInfo||{},window.baikeInfo.userLogin=o},onUnlogin:function(){window.baikeInfo=window.baikeInfo||{},window.baikeInfo.userLogin={errno:0,isLogin:!1},n.on("click",function(){t.showLoginPop()})}}),t.regist({handleLogon:function(o){n.attr("href","/usercenter").text(o.name)}})};e.exports=r});
;define("wiki-lemma:widget/tools/video/flashVideo/flashVideo.js",function(e,o,i){var t=e("wiki-common:widget/lib/jquery/jquery.js"),s=e("wiki-common:widget/lib/swfObject/swfObject.js"),a=function(e,o,i,n){var d="http://www.macromedia.com/go/getflashplayer",l="j-flash-video"+a.count,c="j-flash-video-placeholder"+a.count;a.count++,options=t.extend({width:0,height:0,src:"",target:null,className:""},e||{}),n=t.extend({},n||{}),o=t.extend({allowscriptaccess:"always",wmode:"Opaque",allowfullscreen:"true"},o||{}),i=t.extend({"class":"flash-video j-flash-video "+options.className,id:l},i||{}),this.load=function(){options.target.append(t("<div id='"+c+"'></div>")),s.embedSWF(options.src,c,options.width,options.height,10,d,n,o,i)},this.remove=function(){t("#"+l).remove()}};a.count=0,i.exports=a});
;define("wiki-lemma:widget/tools/video/iframeVideo/iframeVideo.js",function(e,i,o){var r=e("wiki-common:widget/lib/jquery/jquery.js"),t=function(e){var i='<iframe frameborder="0" scrolling="no"></iframe>',o=r(".j-iframe-video-cover"),t=r.extend({src:"",width:0,height:0,coverUrl:null,target:null},e),d=null,o=r('<div class="iframe-video-cover"></div>');this.load=function(){d=r(i),d.css({width:t.width,height:t.height}),o.css({width:t.width,height:t.height,background:"url("+t.coverUrl+") no-repeat 0px 0px",position:"absolute","z-index":"1"}),d.bind("load",function(){o.hide()}),o.appendTo(t.target),d.attr("src",t.src),d.appendTo(t.target)},this.remove=function(){d.remove(),o.remove()}};o.exports=t});
;define("wiki-lemma:widget/tools/video/iqiyiVideo/iqiyiVideo.js",function(i,e,o){var t=i("wiki-common:widget/lib/jquery/jquery.js"),a=i("wiki-lemma:widget/tools/video/flashVideo/flashVideo.js"),n=function(i){function e(){window.notice=function(i){if(i="string"==t.type(i)?t.parseJSON(i):i,"playStateChange"==i.type)switch(i.data.state){case"Playing":!!o&&o.hide();break;case"Stoped":}}}var o=i.cover,n=this,s=!1;o&&o.length>0&&(i.src=i.src+"&autoPlay=1",e(),o.click(function(){i.videoCount>1&&e(),s||(n.load(),t(o).find(".svm-cover-button").addClass("svm-loding"),s=!0)})),a.call(this,i)};n.count=0,o.exports=n});
;define("wiki-lemma:widget/tools/video/pageMask/pageMask.js",function(i,n,e){var t=i("wiki-common:widget/lib/jquery/jquery.js"),d=function(){var i='<div class="page-mask j-page-mask" style="display:none" id="dvPageMask"></div>',n=null,e=this,d=function(){return n||(n=t(i),n.appendTo(t(document.body))),n},o=function(){},s=function(){},a=function(){e.hide()};this.enableClickHide=function(){d().bind("click",a)},this.disableClickHide=function(){d().unbind("click",a)},this.display=function(){d().show(),s()},this.hide=function(){d().hide(),o()}};e.exports=new d});
;define("wiki-lemma:widget/tools/video/video.js",function(i,e,o){var l=i("wiki-lemma:widget/tools/video/iframeVideo/iframeVideo.js"),t=i("wiki-lemma:widget/tools/video/iqiyiVideo/iqiyiVideo.js"),d=i("wiki-lemma:widget/tools/video/flashVideo/flashVideo.js"),s=function(i){i.type;"iqiyi"==i.type?t.call(this,i):"flash"==i.type?d.call(this,i):l.call(this,i)};o.exports=s});
;define("wiki-lemma:widget/basicElement/addSub/addSub.js",function(e,i,a){function t(e){this.dialog=new l({classNames:"add-sub-dialog",title:'添加义项描述<a href="http://baike.baidu.com/view/10811633.htm" target="_blank">义项命名规则</a>',content:'<div class="add-sub">                        <div class="content-inner">                            <div class="tip">您需要给原有的义项和新增加的义项都写一个“义项描述”，让读者能分清楚同名的两个事物。</div>                            <div class="example">                                <div class="example-tit">示例</div>                                <div class="example-show">                                    <ul>                                        <li class="show-li clearfix"><div class="tit">词条名</div><div class="content">环太平洋</div></li>                                        <li class="show-li clearfix"><div class="tit">原有义项描述</div><div class="content">地理区域</div></li>                                        <li class="show-li clearfix"><div class="tit">新增义项描述</div><div class="content">2013年美国科幻电影</div></li>                                    </ul>                                </div>                            </div>                            <form action="/createsub/'+e+'" method="get">                                <div class="form-item name-lemma clearfix"><label for="">词条名</label><input type="text" value="'+e+'" disabled="disabled"></div>                                <div class="form-item clearfix"><label for="">原有义项描述(不大于20字)</label><input type="text" value="" name="ori_desc"></div>                                <div class="form-item clearfix"><label for="">新增义项描述(不大于20字)</label><input type="text" value="" name="desc"></div>                                <div class="form-item form-notice"><strong>[注意]</strong>如果原义项中已经罗列了多个义项的内容，那么建议您不要直接添加义项，而是<a href="http://tieba.baidu.com/p/2790796116" target="_blank">报告未拆分多义词。</a></div>                                <div class="add-sub-main-footer"><input type="submit" class="add-sub-main-button add-sub-main-accept" value="确定"><span class="add-sub-main-button add-sub-main-cancel">取消</span></div>                            </form>                        </div>                    </div>'}),this.show=function(){this.dialog.show()},this.close=function(){this.dialog.hide()},this.close();var i=this;s(document.body).on("click",".add-sub-close",function(){i.close()}),s(document.body).on("click",".add-sub-main-cancel",function(){i.close()}),s(document.body).on("click",".add-sub-main-accept",function(e){var i=s('.add-sub input[name="ori_desc"]'),a=s('.add-sub input[name="desc"]'),t=s.trim(i.val()),l=s.trim(a.val()),d=!0;return t?l?t.length>20||l.length>20?(alert("义项名不能超过20字!"),d=!1):t===l&&(alert("原有义项描述和新义项描述不能一致!"),d=!1):(alert("未输入新义项描述!"),d=!1):(alert("未输入原义项描述!"),d=!1),d?(t=t.replace(/\n\r\t/gi,""),l=l.replace(/\n\r\t/gi,""),i.attr("value",t),void a.attr("value",l)):(e.preventDefault(),!1)})}var s=e("wiki-common:widget/lib/jquery/jquery.js"),l=e("wiki-common:widget/ui/dialog/dialog.js"),d=e("wiki-common:widget/component/userLogin/userLogin.js"),c=e("wiki-lemma:widget/tools/rightCheck/rightCheck.js"),n=function(e){var e=e,i=e.lemmaId||0,a=e.lemmaTitle||"",n=e.lemmaDesc||"",o=e.versionId||0,r=e.subLemmaId||0,m=new t(a);s(document.body).on("click",".add-sub-icon, .lemmaWgt-lemmaTitle .add-subLemma",function(){c.preeditCheck(i,a,n,o,function(e){if(0==r)return void(window.location.href="/createsub/"+encodeURIComponent(a));if(e.errno)switch(e.errno){case 100001:d.showLoginPop();break;case 100006:unameFiller.show();break;case 100005:alert("对不起，您目前被封禁");break;case 110001:alert("对不起，该词条被锁定");break;case 110007:alert("对不起，消歧页无法编辑");break;case 110005:case 110008:l.alert({title:"添加义项",subMsg:"对不起，您暂时没有权限为该词条添加义项。"});break;case 470001:alert("系统错误，请刷新重试")}else m.show()})})};a.exports=n});
;define("wiki-lemma:widget/basicElement/collect/collect.js",function(e,o,t){var l=e("wiki-common:widget/lib/jquery/jquery.js"),n=(e("wiki-common:widget/component/nslog/nslog.js"),e("wiki-common:widget/component/userLogin/userLogin.js")),c=e("wiki-lemma:widget/tools/service/service.js"),i=l(".top-collect"),s=l(".collect-text"),a=l(".collect-tip"),u=!1,d=null,g=function(){i.addClass("collected"),s.text("已收藏"),u=!0},m=function(){i.removeClass("collected"),s.text("收藏"),u=!1},r=function(){d&&clearTimeout(d),d=setTimeout(function(){a.hide()},300)},f=function(){u&&(d&&clearTimeout(d),a.show())},w=function(e){s.bind("click",function(o){var t=l(o.target);t=t.hasClass("top-collect")?t:t.parents(".top-collect"),t.length<=0||n.checkIfLogin({onLogin:function(){t.hasClass("collected")?c.Collect.cancel(e):c.Collect.collect(e)},onUnlogin:function(){n.showLoginPop()}})}),i.on("mouseover",f).on("mouseout",r),n.regist({handleLogon:function(){c.Collect.getCollect(e)}}),c.Collect.regist({handleCollected:g,handleCanceled:m,handleGotten:function(e){!!e.isFavorite&&g()}})};t.exports=w});
;define("wiki-lemma:widget/basicElement/commonModulePager/commonModulePager.js",function(e,i,a){var s=e("wiki-common:widget/lib/jquery/jquery.js"),l=function(e){var i=e,a=0,l=i.pageNumber,n=i.container,d=n.find(".cmp-prev"),t=n.find(".cmp-next"),c=n.find(".cmp-default"),o=n.find(".cmp-all"),f=this;this.prev=function(){this.skipTo(a-1)},this.next=function(){this.skipTo(a+1)},this.skipTo=function(e){if(!(e>l||0>=e)){a=e;var s=n.find(".cmp-index");s.removeClass("selected"),n.find("[data-index='"+e+"']").addClass("selected"),d.removeClass("disabled"),t.removeClass("disabled"),1==e&&d.addClass("disabled"),e==l&&t.addClass("disabled"),!!i.handlePageChange&&i.handlePageChange(e)}},this.displayDefault=function(){c.hasClass("selected")||(n.find(".cmp-page").show(),o.removeClass("selected"),c.addClass("selected"),!!i.handleDisplayDefault&&i.handleDisplayDefault())},this.displayAll=function(){o.hasClass("selected")||(n.find(".cmp-page").hide(),c.removeClass("selected"),o.addClass("selected"),!!i.handleDisplayAll&&i.handleDisplayAll())};var p=function(){a=1,d.on("click",function(){f.prev()}),t.on("click",function(){f.next()}),o.on("click",function(){f.displayAll()}),c.on("click",function(){f.displayDefault()}),n.find(".cmp-index").on("click",function(){var e=parseInt(s(this).attr("data-index"));f.skipTo(e)})};p()};a.exports=l});
;define("wiki-lemma:widget/basicElement/modulePager/modulePager.js",function(a,e,n){var s=a("wiki-common:widget/lib/jquery/jquery.js"),i=function(a){var e={total:0,handleNext:null,handlePrev:null};s.extend(e,a);var n=['<div class="module-pager">','<span><em class="index">1</em>/'+e.total+"</span>",'<a href="javascript:;" class="pTag prev disabled"><em class="cmn-icon cmn-icons cmn-icons_arrow-l-2"></em></a>','<a href="javascript:;" class="pTag next"><em class="cmn-icon cmn-icons cmn-icons_arrow-r-2"></em></a>',"</div>"].join(""),i=1,l=s(n),d=l.find(".index"),t=l.find(".next"),c=l.find(".prev"),o=this;this.next=function(){i>=e.total||(d.text(++i),r(),!!e.handleNext&&e.handleNext(i))},this.prev=function(){1>=i||(d.text(--i),r(),!!e.handlePrev&&e.handlePrev(i))};var r=function(){1>=i?c.addClass("disabled"):c.removeClass("disabled"),i>=e.total?t.addClass("disabled"):t.removeClass("disabled"),e.total<=1&&(t.addClass("disabled"),c.addClass("disabled"))};this.appendTo=function(a){l.appendTo(a),m()};var m=function(){l.on("click",function(a){var e=s(a.target);e.hasClass("cmn-icon")&&(e=e.parent()),e.hasClass("next")?o.next():e.hasClass("prev")&&o.prev()})};r()};n.exports=i});
;define("wiki-lemma:widget/basicElement/pinyin/fmp.js",function(t,e,a){var i=!1;try{i=external.max_version}catch(n){}Utils={g:function(t){return document.getElementById(t)},f:function(t){this.g(t.cid).innerHTML=this.fm(this.b.isIE?'<object id="#{id}" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="#{width}" height="#{height}" align="#{align}"><param name="movie" value="#{movie}" /><param name="allowScriptAccess" value="#{allowScriptAccess}" /><param name="allowNetworking" value="#{allowNetworking}" /><param name="flashVars" value="#{flashVars}" /><param name="wmode" value="#{wmode}" /><param name="scale" value="#{scale}" /><param name="salign" value="#{salign}" /></object>':'<embed id="#{id}" src="#{movie}" allowScriptAccess="#{allowScriptAccess}" allowNetworking="#{allowNetworking}" flashVars="#{flashVars}" width="#{width}" height="#{height}" align="#{align}" type="application/x-shockwave-flash" pluginspage="http://www.adobe.com/go/getflashplayer" wmode="#{wmode}" scale="#{scale}" salign="#{salign}" />',t)},fm:function(t,e){if(arguments.length)if("object"==typeof e)t=t.replace(/#\{([^\{\}]+)\}/g,function(t,a){var i=e[a];return"function"==typeof i&&(i=i(a)),"undefined"==typeof i?"":i});else if("undefined"!=typeof e)for(var a=arguments.length-2;a>-1;a--)t=t.replace(new RegExp("#\\{"+a+"\\}","g"),arguments[a+1]);return t},b:{isIE:/msie/i.test(navigator.userAgent),isFF:/firefox/i.test(navigator.userAgent),isMaxthon:i},mo:function(){for(var t={},e=arguments.length,a=0;e>a;a++){var i=arguments[a];for(var n in i)null==t[n]&&(t[n]=arguments[a][n])}return t}},FMP={g:Utils.g,f:Utils.f,b:Utils.b,fm:Utils.fm,_flash:null,loaded:!1,cfg:{cid:"fmp_flash_div",id:"fmp_flash",width:100,height:100,align:"middle",movie:"flash/fmp.swf?v=090105a",allowScriptAccess:"always",allowNetworking:"all",salign:"lt",wmode:"window",scale:"noscale",flashVars:"_instanceName=FMP"},load:function(){this.b.isMaxthon&&(this.cfg.movie+="&r="+Math.random()),this.f(this.cfg)},getUrl:function(){this._flash._getVar("url")},setUrl:function(t){this._flash._setVar("url",t)},getVolume:function(){return 100*this._flash._getVar("volume")},setVolume:function(t){this._flash._setVar("volume",t/100)},getMute:function(){this._flash._getVar("mute")},setMute:function(t){this._flash._setVar("mute",t)},getCurrentPosition:function(){return this._flash._getVar("currentPosition")/1e3},setCurrentPosition:function(t){this._flash._setVar("currentPosition",1e3*t)},getDuration:function(){return this._flash._getVar("duration")/1e3},getDownloadProgress:function(){return 100*this._flash._getVar("downloadProgress")},play:function(){this._flash._play()},pause:function(){this._flash._pause()},stop:function(){this._flash._stop()},_onLoad:function(){this.loaded=!0,this._flash=this.g(this.cfg.id),this.onLoad&&this.onLoad()},_onPlayStateChange:function(t){this.onPlayStateChange&&this.onPlayStateChange(t)}},a.exports=FMP});
;define("wiki-lemma:widget/basicElement/pinyin/lemmaPinyin.js",function(i,e,t){var a=i("wiki-common:widget/lib/jquery/jquery.js"),n=i("wiki-lemma:widget/basicElement/pinyin/fmp.js"),o={};o.play=function(i){var e="http://tts.baidu.com/text2audio?tex="+encodeURI(i)+"&cuid=baike&lan=ZH&ctp=1&pdt=30&vol=9&spd=4";n.cfg.movie="http://dict.baidu.com/static/flash/fmp.swf?v=090105a",window.FMPLoaded||(n.load(),window.FMPLoaded=!0);try{n.loaded?(n.stop(),n.setUrl(e),n.setVolume(100),n.play()):n.onLoad=function(){n.setUrl(e),n.setVolume(100),n.play()}}catch(t){}};var d=function(i){a("#j-pinyin-speak").on("click",function(){o.play(i.lemmaTitle)})};t.exports=d});
;define("wiki-lemma:widget/basicElement/slidePager/slidePager.js",function(e,i,a){var s=e("wiki-common:widget/lib/jquery/jquery.js"),d=function(e){var i=e,a=['<div class="slide-pager">','<a class="slidePager-prev disabled"></a>','<ul class="slidePager-list">',"</ul>",'<a class="slidePager-next"></a>',"</div>"].join(""),d=s(a),l=0,n=d.find(".slidePager-list"),t=this,r=function(e){return s('<li class="slidePager-item" data-index="'+e+'">●</li>')};this.prev=function(){this.skipTo(l-1)},this.next=function(){this.skipTo(l+1)},this.skipTo=function(e){if(!(0>e||e>=i.total)){l=e,d.find("li").removeClass("selected"),d.find("[data-index='"+e+"']").addClass("selected"),!!i.handlePageChange&&i.handlePageChange(e);var a=d.find(".slidePager-prev"),s=d.find(".slidePager-next");a.removeClass("disabled"),s.removeClass("disabled"),0==l?a.addClass("disabled"):l+1==i.total&&s.addClass("disabled")}};var o=function(){l=0,d.on("click",".slidePager-prev",function(){t.prev()}),d.on("click",".slidePager-next",function(){t.next()}),d.on("click",".slidePager-list li",function(){var e=parseInt(s(this).attr("data-index"));t.skipTo(e)});for(var e=0;e<i.total;e++){var a=r(e);a.appendTo(n),0==e&&a.addClass("selected")}};this.appendTo=function(e){d.appendTo(e)},o()};a.exports=d});
;define("wiki-lemma:widget/basicElement/vote/vote.js",function(t,e,o){var n=t("wiki-common:widget/lib/jquery/jquery.js"),i=t("wiki-lemma:widget/tools/service/service.js"),s=function(t,e){var o=n("#j-topShareCount"),i=o.length>0?parseInt(o.text()):0,s={0:.1,1:.15,2:.2,3:.25,4:.3,5:.35,6:.4};i=t&&""!=t?parseInt(s[parseInt(t)%7]*e)+i:parseInt(.3*e)+i,o.text(i)},a=function(t){t.lemmaId;i.Vote.regist({handleGotten:function(e){n(".top-vote .vote-count").text(e.count),setTimeout(function(){s(t.subLemmaId,e.count)},2e3)},handleVotted:function(){n(".top-vote").addClass("voted")}}),n(".vote-tip").on("click",function(){i.Vote.vote(t)}),i.Vote.getVote(t)};o.exports=a});
;define("wiki-lemma:widget/lemma_content/mainContent/albumList/albumList.js",function(t,e,a){var i=t("wiki-common:widget/lib/jquery/jquery.js"),n=t("wiki-lemma:widget/basicElement/modulePager/modulePager.js"),r=t("wiki-lemma:widget/lemma_content/commonModule/album/album.js"),o=function(t){return String(t).replace(/[^\x00-\xff]/g,"ci").length},l=function(t,e,a){var t=String(t),a=a||"";return 0>e||o(t)<=e?t+a:(t=t.substr(0,e).replace(/([^\x00-\xff])/g,"$1 ").substr(0,e).replace(/[^\x00-\xff]$/,"").replace(/([^\x00-\xff]) /g,"$1"),t+a)},d=function(t,e){var a=o(t);return a>e?l(t,e-4)+"...":t},c=function(t){var e={};i.extend(e,t);var a=i(".album-list .list"),o=i(".album-list .scroller"),l=0,c=1,u=790,f=null,h=0,m=[],s=function(){var t=0;for(var a in e.data)e.data[a].albumId=a,e.data[a].index=t,t++,m.push(e.data[a])},v=function(t){var a={linkUrl:"/picture/"+e.lemmaId+"/"+e.subLemmaId+"/"+t.albumId+"/"+t.coverpic+"?fr=lemma",description:d(t.desc,18),coverUrl:t.coverurl,total:t.total,coverWidth:t.coverWidth,coverHeight:t.coverHeight,width:t.width>218?218:t.width,height:155},i=r.render(a);return i},g=function(t){var e=new Image;e.onload=function(){t.height=155,t.width=e.width*t.height/e.height,t.coverWidth=t.width,t.coverHeight=t.height;var i=h;h=i+15+t.width;var n=v(t);n.attr("nslog-type","1204"),a.width(h+15),a.append(n),0==t.index?n.attr("data-index",0):i-Math.floor(i/u+1)*u<=0&&h-Math.floor(i/u+1)*u>0&&n.attr("data-index",Math.floor(h/u)),t.index+1<m.length?g(m[t.index+1]):(n.addClass("last"),w())},e.src=t.coverurl},w=function(){var t=a.width(),e=t/u;l=Math.floor(e)+(Math.floor(e)<e?1:0),f=new n({total:l,handleNext:function(){l>c&&c++,x(c)},handlePrev:function(){c>1&&c--,x(c)}}),f.appendTo(i(".album-list .footer"))};this.load=function(){g(m[0])};var x=function(t){var e=a.find('[data-index="'+(t-1)+'"]'),i=e.offset().left-a.offset().left;o.animate({scrollLeft:i},500)};s()};a.exports=c});
;define("wiki-lemma:widget/lemma_content/mainContent/basicInfo/basicInfo.js",function(i,t,a){var e=i("wiki-common:widget/lib/jquery/jquery.js");a.exports=function(){e(".basic-info").on("click",".basicInfo-block .toggle",function(i){var t=e(i.target);if(t=t.hasClass("toggle")?t:t.parents(".toggle").length>0?t.parents(".toExpand"):null)if(t.hasClass("toExpand")){var a=t.parents(".basicInfo-item"),n=a.find(".basicInfo-overlap");n.data("height")||n.data("height",n.height()-1),n.css({visibility:"visible",height:a.height()}),n.animate({height:n.data("height")},300)}else if(t.hasClass("toCollapse")){var n=t.parents(".basicInfo-overlap"),a=n.parent();n.animate({height:a.height()},300,function(){n.css("visibility","hidden")})}})}});
;define("wiki-lemma:widget/lemma_content/mainContent/lemmaReference/lemmaReference.js",function(e,n,a){var t=e("wiki-common:widget/lib/jquery/jquery.js"),o=e("wiki-common:widget/component/nslog/nslog.js"),s=function(e){var n=e,a=t(".lemma-reference"),s=(a.find(".reference-list-wrap"),a.find(".reference-list")),i=a.find(".toggle"),r=this;this.toggle=function(){a.hasClass("expand")?this.collapse():this.expand()},this.collapse=function(){a.removeClass("expand").addClass("collapse")},this.expand=function(){a.addClass("expand").removeClass("collapse")},this.focusItem=function(e){s.find("li").removeClass("focus");for(var a=0;a<e.length;a++){var o=t("[id='reference-["+e[a]+"]-"+n.subLemmaId+"-wrap']");o.addClass("focus"),e[a]>10&&r.expand()}var i="reference-["+e[0]+"]-"+n.subLemmaId+"-wrap";window.location.hash=i};var c=function(e){var n=e.text().replace("[","").replace("]","");n=n.split("-");for(var a=parseInt(n[0]),t=parseInt(n[n.length-1]),o=[],s=a;t>=s;s++)o.push(s);return o},l=function(){i.on("click",function(){r.toggle()}),t(document.body).on("click","sup",function(e){var n=t(e.target),a=c(n);r.focusItem(a),o(1970)}),t(document).ready(function(){var e=window.location.hash,n=/#reference-\[(\d+)\]-\d+-wrap/i,a=e.match(n),t=a&&a.length>=2?parseInt(a[1]):-1;t>0&&r.focusItem([t])})};l()};a.exports=s});
;define("wiki-lemma:widget/lemma_content/mainContent/lemmaStatistics/lemmaStatistics.js",function(e,t,a){function i(e){if(!e)return"";var t=e.match(/(\d{2,4})-(\d{1,2})-(\d{1,2})/);t[2]=parseInt(t[2],10)-1;var a=new Date(t[1],t[2],t[3]),i=new Date,n=new Date(i.getFullYear(),i.getMonth(),i.getDate()-1),r=parseInt((a-n)/864e5);switch(r){case 1:return"今天";case 0:return"昨天";case-1:return"2天前";case-2:return"3天前"}return e}var n=e("wiki-common:widget/lib/jquery/jquery.js"),r=e("wiki-common:widget/component/userCard/userCard.js");a.exports=function(e){var t="/api/lemmapv?id="+e.newLemmaIdEnc+"&r="+Math.random();n.getJSON(t,function(e){e&&"undefined"!=typeof e.pv&&null!=e.pv?n("#j-lemmaStatistics-pv").text(e.pv):n("#j-lemmaStatistics-pv").parent().hide()});var a=n(".j-modified-time").text();n(".j-modified-time").text(i(a)).show(),r({host:".lemma-statistics .show-userCard"})}});
;define("wiki-lemma:widget/lemma_content/mainContent/polysemantList/polysemantList.js",function(o,n,s){var i=o("wiki-common:widget/lib/jquery/jquery.js");s.exports=function(){var o=i(".polysemant-list"),n=o.find(".toggle"),s=(o.find(".polysemantList-addButton"),o.find(".polysemantList-wrapper"));o.on("click",".toggle",function(){n.hasClass("expand")?(n.removeClass("expand").addClass("collapse"),s.show()):(n.removeClass("collapse").addClass("expand"),s.hide())}).on("click",".fold-on",function(){s.css("height","auto"),s.find(".fold-on").hide().siblings(".fold-off").show()}).on("click",".fold-off",function(){s.css("height",96),s.find(".fold-off").hide().siblings(".fold-on").show()})}});
;define("wiki-lemma:widget/lemma_content/mainContent/sideCatalog/sideCatalog.js",function(o,t,i){var l=o("wiki-common:widget/lib/jquery/jquery.js"),n=function(o){var t=l(".side-catalog"),i=(l(".side-catalog .toggle-button"),l(".side-catalog .go-up")),n=l(".side-catalog .go-down"),s=l(".side-catalog .arrow"),a=l(".side-catalog .catalog-scroller"),e=a.find(".catalog-list"),c=l(".content-wrapper"),r=this,d=function(){var o=a.scrollTop(),t=a.find(".catalog-list").height(),l=a.height();0>=o?i.addClass("disable"):i.removeClass("disable"),o>=t-l?n.addClass("disable"):n.removeClass("disable")};this.scrollUp=function(o){var t=19*o,i=a.scrollTop();a.stop().animate({scrollTop:i-t},200,function(){d(),n.removeClass("disable")})},this.scrollDown=function(o){var t=19*o,l=a.scrollTop();a.stop().animate({scrollTop:l+t},200,function(){i.removeClass("disable"),d()})},this.toDisplay=function(){var o=l(".side-content"),i=1200,n=o.offset().top+o.height(),s=Math.max(n,i),a=l(window).scrollTop();a>=s?t.css("visibility","visible"):t.css("visibility","hidden");var e=c.offset().top+c.height(),r=l(window).height()+a;if(r>e){var d=r-e+10;t.css("bottom",d+"px")}else t.css("bottom","10px")},this.scrollTo=function(o){var i=t.find('[href="#'+o+'"]');if(!(i.length<=0)){i=i.parents(".catalog-title");var l=i.offset().top-e.offset().top+5;a.stop().animate({scrollTop:l-176},300,function(){d()}),s.stop().animate({top:l},300)}};var u=function(){for(var o=l(document.body).find(".lemma-anchor.para-title"),t=l(window).scrollTop(),i=1e4,n=o.eq(0),s=0;s<o.length;s++){var a=o.eq(s),e=Math.abs(a.offset().top-t);i>e&&(i=e,n=a)}return n.attr("name")},f=null,p=function(){f&&(clearTimeout(f),f=null),f=setTimeout(function(){var o=u();r.scrollTo(o)},50),r.toDisplay()},g=function(){t.on("click",".toggle-button",function(){t.hasClass("collapse")?t.removeClass("collapse"):t.addClass("collapse")}),a.bind("mouseover",function(){a.bind("mousewheel",function(o,t){var i=-t;return 0>i?r.scrollUp(7):r.scrollDown(7),o.stopPropagation(),!1})}).bind("mouseout",function(){a.unbind("mousewheel")}),l(window).bind("scroll",p),l(document).bind("ready",function(){p(),r.toDisplay()}),t.on("click",".go-up",function(){r.scrollUp(5)}),t.on("click",".go-down",function(){r.scrollDown(5)}),t.on("click",".gotop-button",function(){l(window).scrollTop(0)})};g()};i.exports=n});
;define("wiki-lemma:widget/lemma_content/commonModule/album/album.js",function(i,t,e){var l=i("wiki-common:widget/lib/jquery/jquery.js"),s=function(i){var t=['<a class="lemma-album" title="'+(i.title||"")+'"  href="'+i.linkUrl+'" target="_blank" style="width:'+(i.width+2)+'px;">','<div class="album-wrap" style="width:'+i.width+"px;height:"+i.height+'px;">','<img class="picture" alt="'+i.description+'" src="'+i.coverUrl+'" style="width:'+i.coverWidth+"px;height:"+i.coverHeight+'px;"/>',"</div>",'<div class="description">',i.description,'<span class="number">('+i.total+")</span>","</div>",'<div class="albumBg">','<div class="albumBgFir" style="width:'+(i.width-6)+'px;"></div>','<div class="albumBgSec" style="width:'+(i.width-12)+'px;"></div>',"</div>","</a>"].join("");return l(t)};e.exports={render:s}});
;define("wiki-lemma:widget/lemma_content/commonModule/cellModule/cellModule.js",function(e,n,a){var d=e("wiki-common:widget/lib/jquery/jquery.js"),i=e("wiki-lemma:widget/basicElement/commonModulePager/commonModulePager.js"),o=function(e){var n=e,a=d(n.container),o=null,t=0,l=function(){n.pageNumber<1||(o=new i({container:a.find(".commonModule-pager"),pageNumber:n.pageNumber,handlePageChange:function(e){t=e,a.find("tr[data-pageIndex]").hide(),a.find("tr[data-pageIndex='"+t+"']").show()},handleDisplayDefault:function(){a.find("tr[data-pageIndex]").hide(),a.find("tr[data-pageIndex='"+t+"']").show()},handleDisplayAll:function(){a.find("tr[data-pageIndex]").show()}}))};l()};a.exports=o});
;define("wiki-lemma:widget/lemma_content/commonModule/horizontalModule/horizontalModule.js",function(e,o,a){var l=e("wiki-common:widget/lib/jquery/jquery.js");a.exports=function(e){var o=l(e.container);o.on("click",".toggle-button",function(){var e=l(this),a=e.attr("data-id");e.hasClass("collapsed")?(e.removeClass("collapsed").addClass("expaned"),o.find(".j-submodule-"+a).show()):(e.removeClass("expaned").addClass("collapsed"),o.find(".j-submodule-"+a).hide())})}});
;define("wiki-lemma:widget/lemma_content/commonModule/map/map.js",function(e,n,o){function r(e,n){i=e,m="map"+n;var o={point:{x:parseFloat(s("centerX")||"0"),y:parseFloat(s("centerY")||"0")},marker:{x:parseFloat(s("markerPosX")||"0"),y:parseFloat(s("markerPosY")||"0")},markerTitle:s("markerTitle")||"",markerAddress:s("markerAddress")||"",zoom:s("zoom")?parseInt(s("zoom")):null},r=new BMap.Map(m),a=new BMap.Point(o.point.x,o.point.y);r.centerAndZoom(a,o.zoom),r.centerAndZoom(a),r.enableScrollWheelZoom();var d=!1;if(r.addEventListener("dragend",function(){d||(d=!0,t(10000802))}),r.addEventListener("zoomend",function(){d||(d=!0,t(10000802))}),r.addEventListener("moveend",function(){d||(d=!0,t(10000802))}),r.addControl(new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_LEFT,type:BMAP_NAVIGATION_CONTROL_SMALL})),o.marker.x&&o.marker.y){var p=new BMap.Marker(new BMap.Point(o.marker.x,o.marker.y));r.addOverlay(p);var l="";if(o.markerTitle){l='<h4 style="font-size:14px; font-weight:bold; color:#CE5423; margin-bottom:8px;">'+o.markerTitle+"</h4>"+(o.markerAddress?'<p  style="font-size:12px;line-height:1.5;">地址：'+o.markerAddress+"</p>":"");var c={width:0,height:0},k=new BMap.InfoWindow(l,c)}p.onclick=function(){this.openInfoWindow(k)}}}var a=e("wiki-common:widget/lib/jquery/jquery.js"),t=e("wiki-common:widget/component/nslog/nslog.js"),i="",m="",s=function(e){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),o=i.substr(1).match(n);return null!=o?decodeURIComponent(o[2]):null};o.exports=function(e,n){a.ajax({url:"http://api.map.baidu.com/getscript?v=2.0&ak=2366113ce0b57527403e73a98f157a8e&services=&t=20150529153634",dataType:"script",success:function(){r(e,n)}}),t(10000801)}});
;define("wiki-lemma:widget/lemma_content/commonModule/music/musicAlbum/musicAlbum.js",function(a,l,e){var s=a("wiki-common:widget/lib/jquery/jquery.js"),d=s(".musicAlbum-wrapper"),i=(s(".musicAlbum-model"),function(){d.find(".album-item").addClass("expand"),d.find(".detail-toggle").removeClass("collapse").addClass("expand"),d.find(".musicAlbum-detail").removeClass("collapse").addClass("expand")}),m=function(){d.find(".album-item").removeClass("expand"),d.find(".detail-toggle").removeClass("expand").addClass("collapse"),d.find(".musicAlbum-detail").removeClass("expand").addClass("collapse")},n=function(a){d.find(".j-albumItem-"+a).addClass("expand"),d.find(".j-detailItem-"+a).removeClass("collapse").addClass("expand")},o=function(a){d.find(".j-albumItem-"+a).removeClass("expand"),d.find(".j-detailItem-"+a).addClass("collapse").removeClass("expand")},t=function(){s(".musicAlbum-model").on("click",function(a){var l=s(a.target);l.hasClass("model-list")?(l.addClass("highlight"),l.parent().find(".model-detail").removeClass("highlight"),m()):l.hasClass("model-detail")&&(l.addClass("highlight"),l.parent().find(".model-list").removeClass("highlight"),i())}),s(".musicAlbum-wrapper").on("click",function(a){var l=s(a.target);if(l.hasClass("detail-toggle")){var e=l.attr("data-id");l.hasClass("collapse")?(l.removeClass("collapse").addClass("expand"),n(e)):(l.removeClass("expand").addClass("collapse"),o(e))}})};e.exports=function(){t()}});
;define("wiki-lemma:widget/lemma_content/commonModule/music/musicHot/musicHot.js",function(o,i,t){var n=o("wiki-common:widget/lib/jquery/jquery.js"),m=m||{},e=function(o){var i="http://play.baidu.com/box?__m=mboxCtrl.playSong&__a="+o+"&__o=/_baike&fr=baikePC";!m.mp3Box||m.mp3Box.closed?m.mp3Box=window.open(i):m.mp3Box.location=i},a=function(){n(".musicHot-wrapper").on("click",".listen-icon",function(o){var i=n(o.target),t=i.attr("data-id");t&&""!=t&&e(t)})};t.exports=a});
;define("wiki-lemma:widget/lemma_content/commonModule/noticeIcon/noticeIcon.js",function(e,n,t){function i(e){var n,t=c(e).parent(),i=c(e).outerWidth(),o=t.outerWidth();n=parseInt((o-i)/2,10),c(e).css({left:n})}function o(){i(c(".en_conne_notice .enterprise_tips"))}var c=e("wiki-common:widget/lib/jquery/jquery.js");t.exports=o});
;define("wiki-lemma:widget/lemma_content/commonModule/series/series.js",function(a,e){var r=a("wiki-common:widget/lib/jquery/jquery.js"),s=r("#dramaSeries"),i=r("#dramaSerialList");r("dl:first-child",i).show(),e.init=function(a){a=parseInt(a),s.on("click",".pageBar a",function(){var e=r(this),o=e.parents(".pageBar");if(!e.hasClass("cur"))if(e.hasClass("more"))o.hasClass("unfold")?(r(".pageBar",s).removeClass("unfold"),r(".pageBar .more",s).text("展开")):(r(".pageBar",s).addClass("unfold"),r(".pageBar .more",s).text("收起"));else{var l=parseInt(e.text());r(".pageBar a",s).removeClass("cur"),r(".pageBar a[index="+Math.floor(l/a)+"]",s).addClass("cur"),r("dl",i).hide(),r("dl:nth("+Math.floor(l/a)+")",i).show()}})}});
;define("wiki-lemma:widget/promotion/bottomAd/bottomAd.js",function(t,i,o){function n(t){e.getScript("http://cbjs.baidu.com/js/m.js",function(){BAIDU_CLB_fillSlotAsync("1120393",t)})}var e=t("wiki-common:widget/lib/jquery/jquery.js");o.exports=n});
;define("wiki-lemma:widget/promotion/fengchao/fengchao.js",function(e,n,o){var i=e("wiki-common:widget/lib/jquery/jquery.js"),a="http://a.baidu.com/ecom?di=216,790&tm=baiduASPT216S,baiduASPT790S&tn=baidubaike_pg,baidubaike_pg",t=(e("wiki-lemma:widget/tools/tool/tool.js"),e("wiki-common:widget/component/nslog/nslog.js")),r=function(e){var n=arrBaiduAds[216];n&&""!==n?(i(".side-content .fengchao").append(n).show(),t(10000901)):(i(".side-content .fengchao").remove(),m(e))},c=function(e,n){window.arrBaiduAds=[];var o=window.location.href;o=o.indexOf("?")>-1?o.split("?")[0]:o;var c=encodeURIComponent(o+"?lemmaid="+e.newLemmaId);i.ajax({dataType:"script",scriptCharset:"gb2312",url:a+"&word="+e.encodeLemmaTitle+"&asp_url="+c,success:function(){t(10000904),r(n)},error:function(){t(10000905),i(".side-content .fengchao").remove(),m(n)}}),t(10000903)},d=function(e,n){i.ajax({url:"/cms/config/lemma/deny_pheonix_lemma_list.json",dataType:"JSON",success:function(o){var a=o.deny||[];-1===i.inArray(e.lemmaTitle,a)?c(e,n):(i(".side-content .fengchao").remove(),m(n))},error:function(){c(e,n)}})},m=function(e){e&&e.errFn&&e.dom&&e.errFn(e.dom)};o.exports=d});
;define("wiki-lemma:widget/promotion/rightAd/rightAd.js",function(i,t,n){{var a=i("wiki-common:widget/lib/jquery/jquery.js");i("wiki-common:widget/component/nslog/nslog.js")}n.exports=function(i){var t=function(i){var t=['<div class="right-ad">','<a class="rightAd-link" nslog-type="10002202" nslog-params=\'{"adId":"'+i.adId+'", "adTitle": "'+i.name+'", "adPos": 4}\' title="'+i.text+'" href="'+i.url+'" target="_blank">','<img src="'+i.picUrl+'" alt="'+i.text+'" />',"</a>",'<a class="rightAd-close" href="javascript:;"></a>',"</div>"].join(""),n=a(t),o=n.find(".rightAd-close");return o.on("click",function(){n.hide()}),n},n=t(i[0]);n.appendTo(a("body"))}});
;define("wiki-lemma:widget/promotion/rightPreciseAd/rightPreciseAd.js",function(t,e,i){var r=t("wiki-common:widget/lib/jquery/jquery.js");i.exports=function(t){if(40==t[0].adId){var e=r(".lemmaWgt-promotion-rightPreciseAd").attr("data-lemmaId"),i=r(".lemmaWgt-promotion-rightPreciseAd").attr("data-lemmaTitle");t[0].url=t[0].url+"&wd="+i+"&lemmaId="+e}r(".lemmaWgt-promotion-rightPreciseAd").html('<a nslog-type="10002202" nslog-params=\'{"adId":"'+t[0].adId+'", "adTitle": "'+t[0].name+'", "adPos": 5}\' title="'+t[0].text+'" href="'+t[0].url+'" target="_blank"><img src="'+t[0].picUrl+'" alt="'+t[0].text+'" /></a>'),r(".lemmaWgt-promotion-rightPreciseAd").show()}});
;define("wiki-lemma:widget/promotion/slide/slide.js",function(e,a,i){var n=e("wiki-common:widget/lib/jquery/jquery.js"),o=e("wiki-common:widget/lib/jsmart/jsmart.js"),r=e("wiki-common:widget/ui/pager/horPager/horPager.js"),t=e("wiki-common:widget/ui/carousel/carousel.js"),s=new o('{%foreach $data as $ad%}\n<dd class="wgt_carousel_aniUnit">\n<a href="{%$ad.url|f_escape_xml%}" target="_blank" title="{%$ad.text|f_escape_xml%}" nslog-type="10002202" nslog-params=\'{"adId":"{%$ad.adId|f_escape_xml%}", "adTitle":"{%$ad.name|f_escape_xml%}", "adPos": 2}\'>\n<img src="{%$ad.picUrl|f_escape_xml%}" />\n</a>\n</dd>\n{%/foreach%}');i.exports=function(e){var a=s.fetch({data:e});if(n(".lemmaWgt-promotion-slide .promotion_viewport dl").html(a),e.length>1){var i=new t({container:n(".lemmaWgt-promotion-slide .promotion_viewport dl"),aniUnitSize:{width:270,height:260},autoPlayInterval:5e3,aniConfig:{duration:400,direction:"left"},onAniComplete:function(e){o.reset({curIndex:e+1})}}),o=new r({pContainer:n(".lemmaWgt-promotion-slide .promotion_viewport_pager"),template:'<span class="pTagBox">\n<a href="javascript:;" class="pTag prev" p-index="{%$pagers.prev.index|f_escape_xml%}"><em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_arrow-left"></em></a><span>{%foreach $pagers.normal as $pager%}<a href="javascript:;" class="dot pTag{%if $pager.state == "cur"%} cur{%/if%}"{%if $pager.state != "cur"%} p-index="{%$pager.index|f_escape_xml%}"{%/if%}><em class="cmn-icon cmn-icons cmn-icons_userbar-new"></em></a>{%/foreach%}</span><a href="javascript:;" class="pTag next" p-index="{%$pagers.next.index|f_escape_xml%}"><em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_arrow-right"></em></a>\n</span>',conTotalCount:e.length,conPerPage:1,pMaxCount:e.length,onIndexChange:function(e,a){n(a.currentTarget).hasClass("prev")?i.play(-1):n(a.currentTarget).hasClass("next")?i.play():i.play(e-1)}});o.show()}else n(".lemmaWgt-promotion-slide .promotion_viewport_pager").remove();n(".lemmaWgt-promotion-slide").show()}});
;define("wiki-lemma:widget/promotion/topAd/topAd.js",function(t,e,o){var i=t("wiki-common:widget/lib/jquery/jquery.js"),n=t("wiki-common:widget/component/nslog/nslog.js");o.exports=function(t){var t=t[0],e='<a target="_blank" nslog-type="10002202" nslog-params=\'{"adId":"'+t.adId+'", "adTitle": "'+t.name+'", "adPos": 3}\' href="'+t.url+'" title="'+t.text+'" style="background:url('+t.picUrl+') 0px 0px no-repeat; width:200px; height:100px; outline:0; font-size:0; text-indent:-999em; display:block;position:absolute;right:0px; bottom:0px;" nslog-type="40000302"></a>';i(".header-wrapper .layout").append(i(e)),n(40000301)}});
;define("wiki-lemma:widget/promotion/unionAd/unionAd.js",function(i,o,n){function d(i){var o={adId:"u1997633",sClassName:"union"};o?(r(i,o),t(i).addClass(o.sClassName)):t(i).remove()}function r(i,o){t(i).find(".union-content").attr("id","cpro_"+o.adId),(window.cproArray=window.cproArray||[]).push({id:o.adId}),(window.cproStyleApi=window.cproStyleApi||{})[o.adId]={wn:2,hn:8},t.getScript("http://cpro.baidustatic.com/cpro/ui/c.js",function(){t(i).css("display","block")})}var t=i("wiki-common:widget/lib/jquery/jquery.js");n.exports=d});
;define("wiki-lemma:widget/promotion/unionAdFromPs/unionAdFromPs.js",function(i,n,o){function t(){e.getScript("http://su.bdimg.com/static/dspui/js/ls.js",function(){setTimeout(function(){e("#unionAd_fromPs").find("iframe").length<0&&e("#unionAd_fromPs").remove()},2e3)})}var e=i("wiki-common:widget/lib/jquery/jquery.js");o.exports=t});
;define("wiki-lemma:widget/promotion/vbaike/vbaike.js",function(e,a,i){var n=e("wiki-common:widget/lib/jquery/jquery.js"),o=e("wiki-common:widget/lib/jsmart/jsmart.js"),t=e("wiki-common:widget/ui/pager/horPager/horPager.js"),r=e("wiki-common:widget/ui/carousel/carousel.js"),s=new o('{%foreach $data as $ad%}\n<dd class="wgt_carousel_aniUnit">\n<a href="{%$ad.url|f_escape_xml%}" target="_blank" title="{%$ad.text|f_escape_xml%}" nslog-type="10002202" nslog-params=\'{"adId":"{%$ad.adId|f_escape_xml%}", "adTitle":"{%$ad.name|f_escape_xml%}", "adPos": 1}\'>\n<img src="{%$ad.picUrl|f_escape_xml%}" />\n<div>{%$ad.text|f_escape_xml%}</div>\n</a>\n</dd>\n{%/foreach%}');i.exports=function(e){var a=s.fetch({data:e});if(n(".lemmaWgt-promotion-vbaike .promotion_viewport dl").html(a),e.length>1){var i=new r({container:n(".lemmaWgt-promotion-vbaike .promotion_viewport dl"),aniUnitSize:{width:268,height:152},autoPlayInterval:5e3,aniConfig:{duration:400,direction:"left"},onAniComplete:function(e){o.reset({curIndex:e+1})}}),o=new t({pContainer:n(".lemmaWgt-promotion-vbaike .promotion_viewport_pager"),template:'<span class="pTagBox">\n<a href="javascript:;" class="pTag prev" p-index="{%$pagers.prev.index|f_escape_xml%}"><em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_arrow-left"></em></a><span></span><a href="javascript:;" class="pTag next" p-index="{%$pagers.next.index|f_escape_xml%}"><em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_arrow-right"></em></a>\n</span>',conTotalCount:e.length,conPerPage:1,pMaxCount:e.length,onIndexChange:function(e,a){n(a.currentTarget).hasClass("prev")?i.play(-1):n(a.currentTarget).hasClass("next")?i.play():i.play(e-1)}});o.show()}n(".lemmaWgt-promotion-vbaike").show()}});